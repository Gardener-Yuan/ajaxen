function HttpReq(){}HttpReq.prototype={setFormUrlencoded:function(t){var e=[];for(var n in t)e.push(n+"="+t[n]);return e.join("&")},parseJson:function(e){try{return JSON.parse(e)}catch(t){return e}},get:function(t){var e,n,r=t.params?this.setFormUrlencoded(t.params):null,a=r?t.url+"?"+r:t.url,s=!1!==t.async,o=this,c={then:function(t){return e=t,c},catch:function(t){return n=t,c}};return s?setTimeout(function(){o.ajaxSend("GET",a,s,r,e,n)}):c.run=function(){o.ajaxSend("GET",a,s,r,e,n)},c},post:function(t){var e,n,r=t.params?this.setFormUrlencoded(t.params):null,a=!1!==t.async,s=this,o={then:!1,catch:!1},c={then:function(t){return e=t,o.then=!0,c},catch:function(t){return n=t,o.catch=!0,c}};return a?setTimeout(function(){s.ajaxSend("POST",t.url,a,r,e,n)}):c.run=function(){s.ajaxSend("POST",t.url,a,r,e,n)},c},ajaxSend:function(t,e,n,r,a,s){var o,c=this;window.XMLHttpRequest?o=new XMLHttpRequest:window.ActiveXObject&&(o=new ActiveXObject("Microsoft.XMLHTTP")),o?(o.onreadystatechange=function(){c.ajaxStateHandler(o,a,s)},o.open(t,e,n),o.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),o.send(r)):alert("Your browser does not support XMLHTTP.")},ajaxStateHandler:function(t,e,n){if(4===t.readyState)switch(t.status){case 200:e(this.parseJson(t.responseText));break;case 500:case 404:case 400:case 0:n(this.parseJson(t.responseText)||t.statusText)}}};